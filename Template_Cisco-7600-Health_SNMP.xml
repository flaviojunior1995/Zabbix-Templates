<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export>
    <version>4.4</version>
    <date>2020-12-22T15:51:06Z</date>
    <groups>
        <group>
            <name>Templates_Created</name>
        </group>
    </groups>
    <templates>
        <template>
            <template>Template Cisco 7600 Health SNMP</template>
            <name>Template Cisco 7600 Health SNMP</name>
            <description>Template Cisco 7600 Health &#13;
-CPU&#13;
-Memory&#13;
-PowerSupply&#13;
-PowerConsumption&#13;
-Temperature&#13;
-FAN&#13;
-CEF&#13;
&#13;
By: Flavio Gomes Figueira Camacho Junior&#13;
&#13;
Require:&#13;
Firmware / Software&#13;
.IOS rp-ADVENTERPRISEK9-M 15.2(4)S4 &#13;
&#13;
ValueMaps&#13;
.CISCO-ENVMON-MIB::CiscoEnvMonState&#13;
.ENTITY-SENSORS-MIB::EntitySensorStatus&#13;
.CISCO-CEF-TC-MIB::CefFailureReason&#13;
&#13;
Base:&#13;
CISCO-ENVMON-MIB.mib &#13;
http://www.circitor.fr/Mibs/Html/C/CISCO-ENVMON-MIB.php&#13;
CISCO-MEMORY-POOL-MIB.mib&#13;
http://www.circitor.fr/Mibs/Html/C/CISCO-MEMORY-POOL-MIB.php&#13;
CISCO-PROCESS-MIB.mib&#13;
http://www.circitor.fr/Mibs/Html/C/CISCO-PROCESS-MIB.php&#13;
ENTITY-MIB.mib&#13;
http://www.circitor.fr/Mibs/Html/E/ENTITY-MIB.php&#13;
CISCO-ENTITY-SENSOR-MIB.mib&#13;
http://www.circitor.fr/Mibs/Html/C/CISCO-ENTITY-SENSOR-MIB.php&#13;
CISCO-ENTITY-FRU-CONTROL-MIB.mib&#13;
http://www.circitor.fr/Mibs/Html/C/CISCO-ENTITY-FRU-CONTROL-MIB.php&#13;
CISCO-CEF-MIB.mib&#13;
http://www.circitor.fr/Mibs/Html/C/CISCO-CEF-MIB.php&#13;
https://share.zabbix.com/network_devices/cisco/template-cisco-7600</description>
            <groups>
                <group>
                    <name>Templates_Created</name>
                </group>
            </groups>
            <applications>
                <application>
                    <name>CEF</name>
                </application>
                <application>
                    <name>CPU</name>
                </application>
                <application>
                    <name>Fan</name>
                </application>
                <application>
                    <name>Memory</name>
                </application>
                <application>
                    <name>Power Consumption</name>
                </application>
                <application>
                    <name>Power Supplies</name>
                </application>
                <application>
                    <name>Temperature</name>
                </application>
            </applications>
            <discovery_rules>
                <discovery_rule>
                    <name>Power Comsumption Discovery</name>
                    <type>SNMPV2</type>
                    <snmp_community>{$SNMP_COMMUNITY}</snmp_community>
                    <snmp_oid>discovery[{#SNMPVALUE},.1.3.6.1.4.1.9.9.117.1.8.2.1.1]</snmp_oid>
                    <key>cefcConnectorRating[&quot;Power Consumption&quot;]</key>
                    <delay>1h</delay>
                    <description>CISCO-ENTITY-FRU-CONTROL-MIB</description>
                    <item_prototypes>
                        <item_prototype>
                            <name>Module {#SNMPINDEX} Voltage (V)</name>
                            <type>SNMPV2</type>
                            <snmp_community>{$SNMP_COMMUNITY}</snmp_community>
                            <snmp_oid>1.3.6.1.4.1.9.9.117.1.8.1.1.1.{#SNMPINDEX}</snmp_oid>
                            <key>cefcConnectorRating[&quot;{#SNMPINDEX}&quot;]</key>
                            <delay>5m</delay>
                            <history>30d</history>
                            <trends>0</trends>
                            <value_type>FLOAT</value_type>
                            <units>V</units>
                            <applications>
                                <application>
                                    <name>Power Consumption</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>MULTIPLIER</type>
                                    <params>0.01</params>
                                </step>
                            </preprocessing>
                        </item_prototype>
                        <item_prototype>
                            <name>Module {#SNMPINDEX} Current (A)</name>
                            <type>SNMPV2</type>
                            <snmp_community>{$SNMP_COMMUNITY}</snmp_community>
                            <snmp_oid>1.3.6.1.4.1.9.9.117.1.8.2.1.1.{#SNMPINDEX}</snmp_oid>
                            <key>cefcModulePowerConsumptionTable[&quot;{#SNMPINDEX}&quot;]</key>
                            <delay>5m</delay>
                            <history>30d</history>
                            <trends>0</trends>
                            <value_type>FLOAT</value_type>
                            <units>A</units>
                            <applications>
                                <application>
                                    <name>Power Consumption</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>MULTIPLIER</type>
                                    <params>0.01</params>
                                </step>
                            </preprocessing>
                        </item_prototype>
                        <item_prototype>
                            <name>Module {#SNMPINDEX} Power (W)</name>
                            <type>CALCULATED</type>
                            <key>moduleComsumption[&quot;{#SNMPINDEX}&quot;]</key>
                            <delay>5m</delay>
                            <value_type>FLOAT</value_type>
                            <units>W</units>
                            <params>last(cefcModulePowerConsumptionTable[&quot;{#SNMPINDEX}&quot;]) * last(cefcConnectorRating[&quot;{#SNMPINDEX}&quot;])</params>
                            <applications>
                                <application>
                                    <name>Power Consumption</name>
                                </application>
                            </applications>
                        </item_prototype>
                    </item_prototypes>
                    <graph_prototypes>
                        <graph_prototype>
                            <name>Module {#SNMPINDEX} Power (W)</name>
                            <graph_items>
                                <graph_item>
                                    <drawtype>FILLED_REGION</drawtype>
                                    <color>FF0000</color>
                                    <item>
                                        <host>Template Cisco 7600 Health SNMP</host>
                                        <key>moduleComsumption[&quot;{#SNMPINDEX}&quot;]</key>
                                    </item>
                                </graph_item>
                                <graph_item>
                                    <sortorder>1</sortorder>
                                    <color>FFFF00</color>
                                    <item>
                                        <host>Template Cisco 7600 Health SNMP</host>
                                        <key>cefcModulePowerConsumptionTable[&quot;{#SNMPINDEX}&quot;]</key>
                                    </item>
                                </graph_item>
                                <graph_item>
                                    <sortorder>2</sortorder>
                                    <color>00FF00</color>
                                    <item>
                                        <host>Template Cisco 7600 Health SNMP</host>
                                        <key>cefcConnectorRating[&quot;{#SNMPINDEX}&quot;]</key>
                                    </item>
                                </graph_item>
                            </graph_items>
                        </graph_prototype>
                    </graph_prototypes>
                </discovery_rule>
                <discovery_rule>
                    <name>CEF Discovery</name>
                    <type>SNMPV2</type>
                    <snmp_community>{$SNMP_COMMUNITY}</snmp_community>
                    <snmp_oid>discovery[{#SNMPVALUE},.1.3.6.1.4.1.9.9.492.1.4.2.1.2]</snmp_oid>
                    <key>cefResourceFailureReason</key>
                    <delay>1h</delay>
                    <item_prototypes>
                        <item_prototype>
                            <name>CEF Failure Reason {#SNMPINDEX}</name>
                            <type>SNMPV2</type>
                            <snmp_community>{$SNMP_COMMUNITY}</snmp_community>
                            <snmp_oid>1.3.6.1.4.1.9.9.492.1.4.2.1.2.{#SNMPINDEX}</snmp_oid>
                            <key>cefResourceFailureReason[&quot;{#SNMPINDEX}&quot;]</key>
                            <history>30d</history>
                            <trends>0</trends>
                            <applications>
                                <application>
                                    <name>CEF</name>
                                </application>
                            </applications>
                            <valuemap>
                                <name>CISCO-CEF-TC-MIB::CefFailureReason</name>
                            </valuemap>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{last()}&lt;&gt;1</expression>
                                    <name>CEF Failure</name>
                                    <priority>DISASTER</priority>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>CEF Memory Used {#SNMPINDEX}</name>
                            <type>SNMPV2</type>
                            <snmp_community>{$SNMP_COMMUNITY}</snmp_community>
                            <snmp_oid>1.3.6.1.4.1.9.9.492.1.4.2.1.1.{#SNMPINDEX}</snmp_oid>
                            <key>cefResourceMemoryUsed[&quot;{#SNMPINDEX}&quot;]</key>
                            <history>30d</history>
                            <value_type>FLOAT</value_type>
                            <units>B</units>
                            <applications>
                                <application>
                                    <name>CEF</name>
                                </application>
                                <application>
                                    <name>Memory</name>
                                </application>
                            </applications>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{$CEF_TOTAL_MEMORY} * 100 / {last()} &gt; 90</expression>
                                    <name>CEF high memory utilization</name>
                                    <priority>HIGH</priority>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                    </item_prototypes>
                    <graph_prototypes>
                        <graph_prototype>
                            <name>CEF Memory Used {#SNMPINDEX}</name>
                            <graph_items>
                                <graph_item>
                                    <drawtype>GRADIENT_LINE</drawtype>
                                    <color>00FF00</color>
                                    <item>
                                        <host>Template Cisco 7600 Health SNMP</host>
                                        <key>cefResourceMemoryUsed[&quot;{#SNMPINDEX}&quot;]</key>
                                    </item>
                                </graph_item>
                            </graph_items>
                        </graph_prototype>
                    </graph_prototypes>
                </discovery_rule>
                <discovery_rule>
                    <name>FAN Discovery</name>
                    <type>SNMPV2</type>
                    <snmp_community>{$SNMP_COMMUNITY}</snmp_community>
                    <snmp_oid>discovery[{#SNMPVALUE},1.3.6.1.4.1.9.9.13.1.4.1.2]</snmp_oid>
                    <key>ciscoEnvMonFanStatusDescr</key>
                    <delay>1h</delay>
                    <description>CISCO-ENVMON-MIB&#13;
&#13;
The table of fan status maintained by the environmental monitor.</description>
                    <item_prototypes>
                        <item_prototype>
                            <name>{#SNMPVALUE}: Fan status</name>
                            <type>SNMPV2</type>
                            <snmp_community>{$SNMP_COMMUNITY}</snmp_community>
                            <snmp_oid>1.3.6.1.4.1.9.9.13.1.4.1.3.{#SNMPINDEX}</snmp_oid>
                            <key>ciscoEnvMonFanState[{#SNMPINDEX}]</key>
                            <history>30d</history>
                            <trends>0</trends>
                            <description>MIB: CISCO-ENVMON-MIB</description>
                            <applications>
                                <application>
                                    <name>Fan</name>
                                </application>
                            </applications>
                            <valuemap>
                                <name>CISCO-ENVMON-MIB::CiscoEnvMonState</name>
                            </valuemap>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{last()}=3</expression>
                                    <name>{#SNMPVALUE}: Fan is in critical state</name>
                                    <priority>HIGH</priority>
                                    <description>Last value: {ITEM.LASTVALUE1}.&#13;
Please check the fan unit</description>
                                </trigger_prototype>
                                <trigger_prototype>
                                    <expression>{last()}=2</expression>
                                    <name>{#SNMPVALUE}: Fan is in warning state</name>
                                    <priority>WARNING</priority>
                                </trigger_prototype>
                                <trigger_prototype>
                                    <expression>{last()}=6</expression>
                                    <name>{#SNMPVALUE}: Fan is notFunctioning</name>
                                    <priority>WARNING</priority>
                                </trigger_prototype>
                                <trigger_prototype>
                                    <expression>{last()}=5</expression>
                                    <name>{#SNMPVALUE}: Fan is notPresent</name>
                                    <priority>WARNING</priority>
                                </trigger_prototype>
                                <trigger_prototype>
                                    <expression>{last()}=4</expression>
                                    <name>{#SNMPVALUE}: Fan is shutdown</name>
                                    <priority>INFO</priority>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                    </item_prototypes>
                </discovery_rule>
                <discovery_rule>
                    <name>PowerSupply Discovery</name>
                    <type>SNMPV2</type>
                    <snmp_community>{$SNMP_COMMUNITY}</snmp_community>
                    <snmp_oid>discovery[{#SNMPVALUE},.1.3.6.1.4.1.9.9.13.1.5.1.2]</snmp_oid>
                    <key>ciscoEnvMonSupplyStatusDescr</key>
                    <delay>1h</delay>
                    <description>CISCO-ENVMON-MIB::ciscoEnvMonSupplyStatusDescr&#13;
&#13;
Textual description of the power supply being instrumented.</description>
                    <item_prototypes>
                        <item_prototype>
                            <name>Status {#SNMPINDEX}</name>
                            <type>SNMPV2</type>
                            <snmp_community>{$SNMP_COMMUNITY}</snmp_community>
                            <snmp_oid>1.3.6.1.4.1.9.9.13.1.5.1.3.{#SNMPINDEX}</snmp_oid>
                            <key>ciscoEnvMonSupplyState[&quot;{#SNMPVALUE}&quot;]</key>
                            <history>30d</history>
                            <trends>0</trends>
                            <description>CISCO-ENVMON-MIB::ciscoEnvMonSupplyState&#13;
&#13;
The current state of the power supply being instrumented.</description>
                            <applications>
                                <application>
                                    <name>Power Supplies</name>
                                </application>
                            </applications>
                            <valuemap>
                                <name>CISCO-ENVMON-MIB::CiscoEnvMonState</name>
                            </valuemap>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{last()}=3</expression>
                                    <name>Status &quot;{#SNMPVALUE}&quot; is critical</name>
                                    <priority>HIGH</priority>
                                </trigger_prototype>
                                <trigger_prototype>
                                    <expression>{last()}=2</expression>
                                    <name>Status &quot;{#SNMPVALUE}&quot; is non-operable</name>
                                    <priority>WARNING</priority>
                                </trigger_prototype>
                                <trigger_prototype>
                                    <expression>{last()}=6</expression>
                                    <name>Status &quot;{#SNMPVALUE}&quot; is not functioning</name>
                                    <priority>AVERAGE</priority>
                                </trigger_prototype>
                                <trigger_prototype>
                                    <expression>{last()}=4</expression>
                                    <name>Status &quot;{#SNMPVALUE}&quot; is shutdown</name>
                                    <priority>AVERAGE</priority>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                    </item_prototypes>
                </discovery_rule>
                <discovery_rule>
                    <name>Memory Pool Discovery</name>
                    <type>SNMPV2</type>
                    <snmp_community>{$SNMP_COMMUNITY}</snmp_community>
                    <snmp_oid>discovery[{#SNMPVALUE},.1.3.6.1.4.1.9.9.48.1.1.1.2]</snmp_oid>
                    <key>ciscoMemoryPoolName</key>
                    <delay>1h</delay>
                    <description>CISCO-MEMORY-POOL-MIB::ciscoMemoryPoolName&#13;
&#13;
A textual name assigned to the memory pool.</description>
                    <item_prototypes>
                        <item_prototype>
                            <name>Free memory on Memory Pool {#SNMPVALUE}</name>
                            <type>SNMPV2</type>
                            <snmp_community>{$SNMP_COMMUNITY}</snmp_community>
                            <snmp_oid>1.3.6.1.4.1.9.9.48.1.1.1.6.{#SNMPINDEX}</snmp_oid>
                            <key>ciscoMemoryPoolFree[&quot;{#SNMPVALUE}&quot;]</key>
                            <delay>5m</delay>
                            <units>B</units>
                            <description>CISCO-MEMORY-POOL-MIB::ciscoMemoryPoolFree&#13;
&#13;
Indicates the number of bytes from the memory pool that are currently unused on the managed device.</description>
                            <applications>
                                <application>
                                    <name>Memory</name>
                                </application>
                            </applications>
                            <application_prototypes>
                                <application_prototype>
                                    <name>Memory {#SNMPVALUE}</name>
                                </application_prototype>
                            </application_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>Total Memory Pool {#SNMPVALUE}</name>
                            <type>CALCULATED</type>
                            <key>ciscoMemoryPoolTotal[&quot;{#SNMPVALUE}&quot;]</key>
                            <delay>1h</delay>
                            <history>7h</history>
                            <trends>180d</trends>
                            <units>B</units>
                            <params>last(&quot;ciscoMemoryPoolFree[\&quot;{#SNMPVALUE}\&quot;]&quot;)+last(&quot;ciscoMemoryPoolUsed[\&quot;{#SNMPVALUE}\&quot;]&quot;)</params>
                            <applications>
                                <application>
                                    <name>Memory</name>
                                </application>
                            </applications>
                            <application_prototypes>
                                <application_prototype>
                                    <name>Memory {#SNMPVALUE}</name>
                                </application_prototype>
                            </application_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>Used memory on Memory Pool {#SNMPVALUE}</name>
                            <type>SNMPV2</type>
                            <snmp_community>{$SNMP_COMMUNITY}</snmp_community>
                            <snmp_oid>1.3.6.1.4.1.9.9.48.1.1.1.5.{#SNMPINDEX}</snmp_oid>
                            <key>ciscoMemoryPoolUsed[&quot;{#SNMPVALUE}&quot;]</key>
                            <delay>5m</delay>
                            <units>B</units>
                            <description>CISCO-MEMORY-POOL-MIB::ciscoMemoryPoolUsed&#13;
&#13;
Indicates the number of bytes from the memory pool that are currently in use by applications on the managed device.</description>
                            <applications>
                                <application>
                                    <name>Memory</name>
                                </application>
                            </applications>
                            <application_prototypes>
                                <application_prototype>
                                    <name>Memory {#SNMPVALUE}</name>
                                </application_prototype>
                            </application_prototypes>
                        </item_prototype>
                    </item_prototypes>
                    <trigger_prototypes>
                        <trigger_prototype>
                            <expression>{Template Cisco 7600 Health SNMP:ciscoMemoryPoolUsed[&quot;{#SNMPVALUE}&quot;].last()}&gt;{Template Cisco 7600 Health SNMP:ciscoMemoryPoolTotal[&quot;{#SNMPVALUE}&quot;].last()}*0.8</expression>
                            <name>High utilization of Memory Pool {#SNMPVALUE}</name>
                            <priority>HIGH</priority>
                        </trigger_prototype>
                    </trigger_prototypes>
                    <graph_prototypes>
                        <graph_prototype>
                            <name>Memory {#SNMPVALUE}</name>
                            <show_work_period>NO</show_work_period>
                            <show_triggers>NO</show_triggers>
                            <graph_items>
                                <graph_item>
                                    <color>199C0D</color>
                                    <item>
                                        <host>Template Cisco 7600 Health SNMP</host>
                                        <key>ciscoMemoryPoolTotal[&quot;{#SNMPVALUE}&quot;]</key>
                                    </item>
                                </graph_item>
                                <graph_item>
                                    <sortorder>1</sortorder>
                                    <drawtype>BOLD_LINE</drawtype>
                                    <color>F63100</color>
                                    <item>
                                        <host>Template Cisco 7600 Health SNMP</host>
                                        <key>ciscoMemoryPoolUsed[&quot;{#SNMPVALUE}&quot;]</key>
                                    </item>
                                </graph_item>
                            </graph_items>
                        </graph_prototype>
                    </graph_prototypes>
                </discovery_rule>
                <discovery_rule>
                    <name>CPU Discovery</name>
                    <type>SNMPV2</type>
                    <snmp_community>{$SNMP_COMMUNITY}</snmp_community>
                    <snmp_oid>discovery[{#SNMPVALUE},.1.3.6.1.4.1.9.9.109.1.1.1.1.2]</snmp_oid>
                    <key>cpmCPUTotalPhysicalIndex</key>
                    <delay>1h</delay>
                    <description>CISCO-PROCESS-MIB::cpmCPUTotalPhysicalIndex&#13;
&#13;
The entPhysicalIndex of the physical entity for which the CPU statistics in this entry are maintained. The physical entity can be a CPU chip, a group of CPUs, a CPU card etc. The exact type of this entity is described by its entPhysicalVendorType value. If the CPU statistics in this entry correspond to more than one physical entity (or to no physical entity), or if the entPhysicalTable is not supported on the SNMP agent, the value of this object must be zero.</description>
                    <item_prototypes>
                        <item_prototype>
                            <name>CPU #$1 Usage 1min Rev</name>
                            <type>SNMPV2</type>
                            <snmp_community>{$SNMP_COMMUNITY}</snmp_community>
                            <snmp_oid>1.3.6.1.4.1.9.9.109.1.1.1.1.7.{#SNMPINDEX}</snmp_oid>
                            <key>cpmCPUTotal1minRev[{#SNMPINDEX}]</key>
                            <units>%</units>
                            <description>CISCO-PROCESS-MIB::cpmCPUTotal1minRev&#13;
&#13;
The overall CPU busy percentage in the last 1 minute period. This object deprecates the object cpmCPUTotal1min and increases the value range to (0..100).</description>
                            <applications>
                                <application>
                                    <name>CPU</name>
                                </application>
                            </applications>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{last()}&gt;{$CPU_MAX_ALARM}</expression>
                                    <name>High CPU Alarm #{#SNMPINDEX} 1min Usage</name>
                                    <priority>HIGH</priority>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>CPU #$1 Usage 5min Rev</name>
                            <type>SNMPV2</type>
                            <snmp_community>{$SNMP_COMMUNITY}</snmp_community>
                            <snmp_oid>1.3.6.1.4.1.9.9.109.1.1.1.1.8.{#SNMPINDEX}</snmp_oid>
                            <key>cpmCPUTotal5minRev[{#SNMPINDEX}]</key>
                            <delay>5m</delay>
                            <units>%</units>
                            <description>CISCO-PROCESS-MIB::cpmCPUTotal5minRev&#13;
&#13;
The overall CPU busy percentage in the last 5 minute period. This object deprecates the object cpmCPUTotal5min and increases the value range to (0..100).</description>
                            <applications>
                                <application>
                                    <name>CPU</name>
                                </application>
                            </applications>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{last()}&gt;{$CPU_MAX_ALARM}</expression>
                                    <name>High CPU Alarm #{#SNMPINDEX} 5min Usage</name>
                                    <priority>HIGH</priority>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                    </item_prototypes>
                    <graph_prototypes>
                        <graph_prototype>
                            <name>CPU #{#SNMPINDEX} 1min Usage</name>
                            <graph_items>
                                <graph_item>
                                    <drawtype>FILLED_REGION</drawtype>
                                    <color>00C800</color>
                                    <item>
                                        <host>Template Cisco 7600 Health SNMP</host>
                                        <key>cpmCPUTotal1minRev[{#SNMPINDEX}]</key>
                                    </item>
                                </graph_item>
                            </graph_items>
                        </graph_prototype>
                        <graph_prototype>
                            <name>CPU #{#SNMPINDEX} 5min Usage</name>
                            <graph_items>
                                <graph_item>
                                    <drawtype>FILLED_REGION</drawtype>
                                    <color>199C0D</color>
                                    <item>
                                        <host>Template Cisco 7600 Health SNMP</host>
                                        <key>cpmCPUTotal5minRev[{#SNMPINDEX}]</key>
                                    </item>
                                </graph_item>
                            </graph_items>
                        </graph_prototype>
                    </graph_prototypes>
                </discovery_rule>
                <discovery_rule>
                    <name>Temperature Sensors Discovery</name>
                    <type>SNMPV2</type>
                    <snmp_community>{$SNMP_COMMUNITY}</snmp_community>
                    <snmp_oid>discovery[{#SNMPVALUE},.1.3.6.1.2.1.47.1.1.1.1.7]</snmp_oid>
                    <key>entPhysicalName[Temperature]</key>
                    <delay>1h</delay>
                    <filter>
                        <conditions>
                            <condition>
                                <macro>{#SNMPVALUE}</macro>
                                <value>temperature</value>
                                <formulaid>A</formulaid>
                            </condition>
                        </conditions>
                    </filter>
                    <description>The textual name of the physical entity.</description>
                    <item_prototypes>
                        <item_prototype>
                            <name>Status Temperature Sensor {#SNMPVALUE}</name>
                            <type>SNMPV2</type>
                            <snmp_community>{$SNMP_COMMUNITY}</snmp_community>
                            <snmp_oid>1.3.6.1.4.1.9.9.91.1.1.1.1.5.{#SNMPINDEX}</snmp_oid>
                            <key>entSensorStatus[&quot;{#SNMPVALUE}&quot;]</key>
                            <history>30d</history>
                            <trends>0</trends>
                            <description>CISCO-ENTITY-SENSOR-MIB::entSensorStatus&#13;
&#13;
This variable indicates the present operational status of the sensor.</description>
                            <applications>
                                <application>
                                    <name>Temperature</name>
                                </application>
                            </applications>
                            <application_prototypes>
                                <application_prototype>
                                    <name>Temperature {#SNMPVALUE}</name>
                                </application_prototype>
                            </application_prototypes>
                            <valuemap>
                                <name>ENTITY-SENSORS-MIB::EntitySensorStatus</name>
                            </valuemap>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{last()}=3</expression>
                                    <name>Temperature Sensor {#SNMPVALUE} is nonoperational</name>
                                    <priority>HIGH</priority>
                                </trigger_prototype>
                                <trigger_prototype>
                                    <expression>{last()}=2</expression>
                                    <name>Temperature Sensor {#SNMPVALUE} is unavailable</name>
                                    <priority>AVERAGE</priority>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>Thresholds::{#SNMPVALUE} | Temperature Alarm</name>
                            <type>SNMPV2</type>
                            <snmp_community>{$SNMP_COMMUNITY}</snmp_community>
                            <snmp_oid>1.3.6.1.4.1.9.9.91.1.2.1.1.4.{#SNMPINDEX}.2</snmp_oid>
                            <key>entSensorThresholdValue[&quot;{#SNMPVALUE}&quot;,Alarm]</key>
                            <delay>1h</delay>
                            <history>7d</history>
                            <trends>180d</trends>
                            <value_type>FLOAT</value_type>
                            <units>ºC</units>
                            <description>CISCO-ENTITY-SENSOR-MIB::entSensorThresholdValue&#13;
&#13;
This variable indicates the value of the threshold.</description>
                            <applications>
                                <application>
                                    <name>Temperature</name>
                                </application>
                            </applications>
                            <application_prototypes>
                                <application_prototype>
                                    <name>Temperature {#SNMPVALUE}</name>
                                </application_prototype>
                            </application_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>Thresholds::{#SNMPVALUE} | Temperature Warning</name>
                            <type>SNMPV2</type>
                            <snmp_community>{$SNMP_COMMUNITY}</snmp_community>
                            <snmp_oid>1.3.6.1.4.1.9.9.91.1.2.1.1.4.{#SNMPINDEX}.1</snmp_oid>
                            <key>entSensorThresholdValue[&quot;{#SNMPVALUE}&quot;,Warning]</key>
                            <delay>1h</delay>
                            <history>7d</history>
                            <trends>180d</trends>
                            <value_type>FLOAT</value_type>
                            <units>ºC</units>
                            <description>CISCO-ENTITY-SENSOR-MIB::entSensorThresholdValue&#13;
&#13;
This variable indicates the value of the threshold.</description>
                            <applications>
                                <application>
                                    <name>Temperature</name>
                                </application>
                            </applications>
                            <application_prototypes>
                                <application_prototype>
                                    <name>Temperature {#SNMPVALUE}</name>
                                </application_prototype>
                            </application_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>Temperature on Sensor {#SNMPVALUE}</name>
                            <type>SNMPV2</type>
                            <snmp_community>{$SNMP_COMMUNITY}</snmp_community>
                            <snmp_oid>1.3.6.1.4.1.9.9.91.1.1.1.1.4.{#SNMPINDEX}</snmp_oid>
                            <key>entSensorValue[&quot;{#SNMPVALUE}&quot;]</key>
                            <value_type>FLOAT</value_type>
                            <units>°C</units>
                            <description>CISCO-ENTITY-SENSOR-MIB::entSensorValue&#13;
&#13;
This variable reports the most recent measurement seen by the sensor.</description>
                            <applications>
                                <application>
                                    <name>Temperature</name>
                                </application>
                            </applications>
                            <application_prototypes>
                                <application_prototype>
                                    <name>Temperature {#SNMPVALUE}</name>
                                </application_prototype>
                            </application_prototypes>
                        </item_prototype>
                    </item_prototypes>
                    <trigger_prototypes>
                        <trigger_prototype>
                            <expression>{Template Cisco 7600 Health SNMP:entSensorValue[&quot;{#SNMPVALUE}&quot;].last()}&gt;{Template Cisco 7600 Health SNMP:entSensorThresholdValue[&quot;{#SNMPVALUE}&quot;,Alarm].last()}</expression>
                            <name>High Temperature Alarm {#SNMPVALUE}</name>
                            <priority>HIGH</priority>
                            <dependencies>
                                <dependency>
                                    <name>Temperature Sensor {#SNMPVALUE} is nonoperational</name>
                                    <expression>{Template Cisco 7600 Health SNMP:entSensorStatus[&quot;{#SNMPVALUE}&quot;].last()}=3</expression>
                                </dependency>
                                <dependency>
                                    <name>Temperature Sensor {#SNMPVALUE} is unavailable</name>
                                    <expression>{Template Cisco 7600 Health SNMP:entSensorStatus[&quot;{#SNMPVALUE}&quot;].last()}=2</expression>
                                </dependency>
                            </dependencies>
                        </trigger_prototype>
                        <trigger_prototype>
                            <expression>{Template Cisco 7600 Health SNMP:entSensorValue[&quot;{#SNMPVALUE}&quot;].last()}&gt;{Template Cisco 7600 Health SNMP:entSensorThresholdValue[&quot;{#SNMPVALUE}&quot;,Warning].last()}</expression>
                            <name>High Temperature Warning {#SNMPVALUE}</name>
                            <priority>AVERAGE</priority>
                            <dependencies>
                                <dependency>
                                    <name>High Temperature Alarm {#SNMPVALUE}</name>
                                    <expression>{Template Cisco 7600 Health SNMP:entSensorValue[&quot;{#SNMPVALUE}&quot;].last()}&gt;{Template Cisco 7600 Health SNMP:entSensorThresholdValue[&quot;{#SNMPVALUE}&quot;,Alarm].last()}</expression>
                                </dependency>
                                <dependency>
                                    <name>Temperature Sensor {#SNMPVALUE} is nonoperational</name>
                                    <expression>{Template Cisco 7600 Health SNMP:entSensorStatus[&quot;{#SNMPVALUE}&quot;].last()}=3</expression>
                                </dependency>
                                <dependency>
                                    <name>Temperature Sensor {#SNMPVALUE} is unavailable</name>
                                    <expression>{Template Cisco 7600 Health SNMP:entSensorStatus[&quot;{#SNMPVALUE}&quot;].last()}=2</expression>
                                </dependency>
                            </dependencies>
                        </trigger_prototype>
                    </trigger_prototypes>
                    <graph_prototypes>
                        <graph_prototype>
                            <name>Temperature {#SNMPVALUE}</name>
                            <graph_items>
                                <graph_item>
                                    <color>00FF00</color>
                                    <item>
                                        <host>Template Cisco 7600 Health SNMP</host>
                                        <key>entSensorValue[&quot;{#SNMPVALUE}&quot;]</key>
                                    </item>
                                </graph_item>
                                <graph_item>
                                    <sortorder>1</sortorder>
                                    <color>FF0000</color>
                                    <item>
                                        <host>Template Cisco 7600 Health SNMP</host>
                                        <key>entSensorThresholdValue[&quot;{#SNMPVALUE}&quot;,Alarm]</key>
                                    </item>
                                </graph_item>
                                <graph_item>
                                    <sortorder>2</sortorder>
                                    <color>FFFF00</color>
                                    <item>
                                        <host>Template Cisco 7600 Health SNMP</host>
                                        <key>entSensorThresholdValue[&quot;{#SNMPVALUE}&quot;,Warning]</key>
                                    </item>
                                </graph_item>
                            </graph_items>
                        </graph_prototype>
                    </graph_prototypes>
                </discovery_rule>
            </discovery_rules>
            <macros>
                <macro>
                    <macro>{$CEF_TOTAL_MEMORY}</macro>
                    <value>3678072</value>
                    <description>total memory CEF</description>
                </macro>
                <macro>
                    <macro>{$CPU_MAX_ALARM}</macro>
                    <value>90</value>
                    <description>% cpu waning</description>
                </macro>
                <macro>
                    <macro>{$CPU_MAX_WANING}</macro>
                    <value>70</value>
                    <description>% cpu alarm</description>
                </macro>
            </macros>
        </template>
    </templates>
    <value_maps>
        <value_map>
            <name>CISCO-CEF-TC-MIB::CefFailureReason</name>
            <mappings>
                <mapping>
                    <value>1</value>
                    <newvalue>none</newvalue>
                </mapping>
                <mapping>
                    <value>2</value>
                    <newvalue>mallocFailure</newvalue>
                </mapping>
                <mapping>
                    <value>3</value>
                    <newvalue>hwFailure</newvalue>
                </mapping>
                <mapping>
                    <value>4</value>
                    <newvalue>keepaliveFailure</newvalue>
                </mapping>
                <mapping>
                    <value>5</value>
                    <newvalue>noMsgBuffer</newvalue>
                </mapping>
                <mapping>
                    <value>6</value>
                    <newvalue>invalidMsgSize</newvalue>
                </mapping>
                <mapping>
                    <value>7</value>
                    <newvalue>internalError</newvalue>
                </mapping>
            </mappings>
        </value_map>
        <value_map>
            <name>CISCO-ENVMON-MIB::CiscoEnvMonState</name>
            <mappings>
                <mapping>
                    <value>1</value>
                    <newvalue>normal</newvalue>
                </mapping>
                <mapping>
                    <value>2</value>
                    <newvalue>warning</newvalue>
                </mapping>
                <mapping>
                    <value>3</value>
                    <newvalue>critical</newvalue>
                </mapping>
                <mapping>
                    <value>4</value>
                    <newvalue>shutdown</newvalue>
                </mapping>
                <mapping>
                    <value>5</value>
                    <newvalue>notPresent</newvalue>
                </mapping>
                <mapping>
                    <value>6</value>
                    <newvalue>notFunctioning</newvalue>
                </mapping>
            </mappings>
        </value_map>
        <value_map>
            <name>ENTITY-SENSORS-MIB::EntitySensorStatus</name>
            <mappings>
                <mapping>
                    <value>1</value>
                    <newvalue>ok</newvalue>
                </mapping>
                <mapping>
                    <value>2</value>
                    <newvalue>unavailable</newvalue>
                </mapping>
                <mapping>
                    <value>3</value>
                    <newvalue>nonoperational</newvalue>
                </mapping>
            </mappings>
        </value_map>
    </value_maps>
</zabbix_export>
